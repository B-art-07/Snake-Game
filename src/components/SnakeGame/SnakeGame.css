@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

:root {
  --bg-color: #050505;
  --board-bg: #0a0a0a;
  --snake-color: #00ffcc;
  --snake-head: #e1ff00;
  --food-color: #ff0055;
  --text-color: #e6edf3;
  --neon-glow: 0 0 10px rgba(0, 255, 204, 0.6);
}

.snake-wrapper {
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: var(--bg-color);
  font-family: 'Orbitron', sans-serif;
  color: var(--text-color);
  background-image: radial-gradient(circle at center, #111 0%, #000 100%);
  overflow: hidden;
  touch-action: none; /* Prevents zooming on mobile taps */
}

/* Header */
.game-header {
  width: 80vmin;
  max-width: 600px;
  display: flex;
  justify-content: space-between;
  margin-bottom: 2vmin;
  padding: 10px 20px;
  background: #111;
  border: 1px solid #222;
  border-radius: 8px;
  box-shadow: 0 0 15px rgba(0,0,0,0.5);
  box-sizing: border-box;
}

.score-box {
  display: flex;
  flex-direction: column;
  align-items: center;
}
.label { font-size: 0.8rem; color: #888; }
.value { font-size: 1.5rem; font-weight: bold; color: var(--snake-color); }

/* Board */
.game-board {
  position: relative;
  width: 75vmin; /* Slightly smaller to fit buttons */
  height: 75vmin;
  max-width: 600px;
  max-height: 600px;
  background-color: var(--board-bg);
  display: grid;
  border: 2px solid #444;
  box-shadow: 0 0 20px rgba(0, 255, 204, 0.15);
  background-image: linear-gradient(#1a1a1a 1px, transparent 1px), linear-gradient(90deg, #1a1a1a 1px, transparent 1px);
  background-size: 5% 5%;
}

/* Cells */
.cell { width: 100%; height: 100%; border-radius: 1px; }
.snake-body { background-color: var(--snake-color); box-shadow: var(--neon-glow); opacity: 0.8; border-radius: 2px; }
.snake-head { background-color: var(--snake-head); box-shadow: 0 0 15px var(--snake-head); z-index: 2; border-radius: 4px; }
.food { background-color: var(--food-color); border-radius: 50%; box-shadow: 0 0 15px var(--food-color); transform: scale(0.8); animation: pulse 1s infinite alternate; }

@keyframes pulse { from { transform: scale(0.7); opacity: 0.8; } to { transform: scale(1.0); opacity: 1; } }

/* Overlays */
.overlay {
  position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.85);
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  z-index: 10; backdrop-filter: blur(5px);
}
.overlay h2 { font-size: 3rem; color: #ff3333; text-shadow: 0 0 20px red; margin-bottom: 20px; }
.overlay.paused h2 { color: #fff; text-shadow: 0 0 20px white; }
button.btn-restart { padding: 15px 40px; font-family: inherit; font-size: 1.2rem; background: transparent; color: var(--snake-color); border: 2px solid var(--snake-color); cursor: pointer; text-transform: uppercase; }

/* Fullscreen Button */
.fullscreen-btn { position: absolute; top: 15px; right: 15px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #888; padding: 10px; cursor: pointer; border-radius: 4px; z-index: 100; }

.controls-hint { margin-top: 10px; color: #666; font-size: 0.8rem; }

/* --- MOBILE CONTROLS --- */
.mobile-controls {
  display: none; /* Hidden on Desktop by default */
  margin-top: 20px;
  display: grid;
  grid-template-columns: 60px 60px 60px;
  grid-template-rows: 60px 60px;
  gap: 10px;
  /* Center the D-Pad */
  justify-items: center;
  align-items: center;
}

.d-pad {
  width: 60px;
  height: 60px;
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid #333;
  border-radius: 12px;
  color: var(--snake-color);
  font-size: 1.5rem;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  transition: all 0.1s;
}

.d-pad:active {
  background: var(--snake-color);
  color: black;
  box-shadow: 0 0 15px var(--snake-color);
  transform: scale(0.95);
}

/* Grid Positioning for D-Pad */
.d-pad.up    { grid-column: 2; grid-row: 1; }
.d-pad.left  { grid-column: 1; grid-row: 2; }
.d-pad.down  { grid-column: 2; grid-row: 2; }
.d-pad.right { grid-column: 3; grid-row: 2; }

/* Responsive Adjustments for Mobile */
@media (max-width: 768px) {
  .game-board {
    width: 90vw;
    height: 90vw; /* Keep it square */
  }
  
  .mobile-controls {
    display: grid; /* Show on mobile */
  }
  
  .controls-hint {
    display: none; /* Hide text hint on mobile to save space */
  }
}

/* For very small screens (iPhone SE etc) */
@media (max-height: 700px) {
  .game-board {
    width: 80vw;
    height: 80vw;
  }
  .d-pad {
    width: 50px;
    height: 50px;
  }
}